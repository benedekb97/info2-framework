<?php

namespace App\Internal;

require 'bootstrap/autoload.php';
require 'bootstrap/functions.php';

Base::db_connect(env('MYSQL_HOST'), env('MYSQL_USER'), env('MYSQL_PASSWORD'), env('MYSQL_DATABASE'));


foreach(Base::getModels() as $model) {
    $model = 'App\Models\\' . $model;

    if(!$model::checkTable()) {
        $model::dropTable();
        $model::createTable();
    }
}

echo "Tables updated\n";